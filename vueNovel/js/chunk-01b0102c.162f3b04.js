(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-01b0102c"],{"17ff":function(t,e,i){"use strict";var n=i("8310"),a=i.n(n);a.a},2909:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("6b75");function a(t){if(Array.isArray(t))return Object(n["a"])(t)}var s=i("db90"),r=i("06c5");function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t){return a(t)||Object(s["a"])(t)||Object(r["a"])(t)||c()}},"2e90":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list"},t._l(t.list,(function(e,a){return n("div",{key:a,staticClass:"lis",attrs:{id:e._id},on:{click:function(i){return t.goBookDetail(e._id)}}},[n("div",{staticClass:"left"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.unescape(e.cover),expression:"unescape(item.cover)"}]})]),n("div",{staticClass:"right"},[n("h3",[t._v(t._s(e.title))]),n("div",{staticClass:"bookInfo"},[n("img",{staticClass:"userIcon",attrs:{src:i("ba97"),alt:""}}),n("div",{staticClass:"user"},[t._v(t._s(e.author))]),e.retentionRatio>0?n("div",{staticClass:"vtype"},[t._v(t._s(e.retentionRatio)+"留存")]):t._e()]),n("h5",[t._v(t._s(e.shortIntro))])])])})),0)},a=[],s=(i("d3b7"),i("ac1f"),i("25f0"),i("5319"),{name:"List",props:{list:Array},methods:{unescape:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return unescape(t).replace("/agent/","")})),goBookDetail:function(t){this.$router.push({path:"/bookDetail/".concat(t)})}}}),r=s,c=(i("17ff"),i("2877")),o=Object(c["a"])(r,n,a,!1,null,"9d337320",null);e["a"]=o.exports},8310:function(t,e,i){},"99af":function(t,e,i){"use strict";var n=i("23e7"),a=i("d039"),s=i("e8b5"),r=i("861d"),c=i("7b0b"),o=i("50c4"),l=i("8418"),u=i("65f0"),h=i("1dde"),d=i("b622"),v=i("2d00"),f=d("isConcatSpreadable"),g=9007199254740991,m="Maximum allowed index exceeded",p=v>=51||!a((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),b=h("concat"),k=function(t){if(!r(t))return!1;var e=t[f];return void 0!==e?!!e:s(t)},_=!p||!b;n({target:"Array",proto:!0,forced:_},{concat:function(t){var e,i,n,a,s,r=c(this),h=u(r,0),d=0;for(e=-1,n=arguments.length;e<n;e++)if(s=-1===e?r:arguments[e],k(s)){if(a=o(s.length),d+a>g)throw TypeError(m);for(i=0;i<a;i++,d++)i in s&&l(h,d,s[i])}else{if(d>=g)throw TypeError(m);l(h,d++,s)}return h.length=d,h}})},c4c1:function(t,e,i){"use strict";var n=i("d6bb"),a=i.n(n);a.a},d6bb:function(t,e,i){},d75a:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bookCity"},[i("div",{staticClass:"top"},[i("span",[t._v("书城")]),i("van-icon",{attrs:{name:"search"},on:{click:t.goSearch}})],1),i("van-tabs",{staticClass:"vnav",attrs:{animated:"","title-active-color":"#e1514b",swipeable:""},on:{click:function(e){return t.toggleChannel(t.active)}},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[i("van-tab",{attrs:{title:"男生小说"}},[i("div",{staticClass:"content"},[i("van-sidebar",{staticClass:"vsiderbar",model:{value:t.activeMale,callback:function(e){t.activeMale=e},expression:"activeMale"}},t._l(t.rankingMale,(function(e,n){return i("van-sidebar-item",{key:n,attrs:{title:e.shortTitle,id:e._id},on:{click:function(i){return t.getRangkingNavel(e._id)}}})})),1),i("div",{staticClass:"vscroll",on:{scroll:t.scrollEvent}},[i("List",{attrs:{list:t.list}})],1)],1)]),i("van-tab",{attrs:{title:"女生小说"}},[i("div",{staticClass:"content"},[i("van-sidebar",{model:{value:t.activeFemale,callback:function(e){t.activeFemale=e},expression:"activeFemale"}},t._l(t.rankingFemale,(function(e,n){return i("van-sidebar-item",{key:n,attrs:{title:e.shortTitle},on:{click:function(i){return t.getRangkingNavel(e._id)}}})})),1),i("div",{staticClass:"vscroll",on:{scroll:t.scrollEvent}},[i("List",{attrs:{list:t.list}})],1)],1)])],1)],1)},a=[],s=(i("99af"),i("fb6a"),i("2909")),r=i("5530"),c=i("2e90"),o=i("2f62"),l=i("6380"),u={name:"BookCity",data:function(){return{active:0,activeMale:0,activeFemale:0,rankingMale:[],rankingFemale:[],list:[],tempList:[],start:0,end:20}},computed:Object(r["a"])({},Object(o["b"])({showBottomSelect:function(t){return t.showBottomSelect},loading:function(t){return t.loading}})),components:{List:c["a"]},methods:{goSearch:function(){this.$router.push("/search")},getRankingMale:function(){var t=this;this.$store.commit(l["a"].LOADING,{data:!0}),this.axios.get("/https://api.zhuishushenqi.com/ranking/gender").then((function(e){t.rankingMale=e.data.male,t.rankingFemale=e.data.female,t.rankingMale.length>0&&t.getRangkingNavel(t.rankingMale[0]._id)})).catch((function(t){console.error(t)})).then((function(){t.$store.commit(l["a"].LOADING,{data:!1})}))},getRangkingNavel:function(t){var e=this;this.start=0,this.end=20,this.tempList=[],this.list=[],this.$store.commit(l["a"].LOADING,{data:!0}),this.axios.get("/https://api.zhuishushenqi.com/ranking/".concat(t)).then((function(t){var i;(i=e.tempList).push.apply(i,Object(s["a"])(t.data.ranking.books)),e.list=e.tempList.slice(e.start,e.end)})).catch((function(t){})).then((function(){e.$store.commit(l["a"].LOADING,{data:!1})}))},toggleChannel:function(t){if(this.start=0,this.end=20,this.tempList=[],this.list=[],1==t){var e=this.rankingFemale[0]._id;this.getRangkingNavel(e)}else{var i=this.rankingMale[0]._id;this.getRangkingNavel(i)}},getMore:function(t){this.list.length!=this.tempList.length&&this.list.length>0&&this.list.length<this.tempList.length&&(this.start+=t,this.end+=t,this.end>this.tempList.length&&(this.end=this.tempList.length),this.list=[].concat(Object(s["a"])(this.list),Object(s["a"])(this.tempList.slice(this.start,this.end))))},scrollEvent:function(t){t.target.scrollTop>120*(this.end-5)&&this.getMore(20)}},created:function(){this.getRankingMale(),this.$store.commit(l["a"].SHOW_BOTTOM_SELECT,{data:!0})},watch:{active:function(t){this.toggleChannel(t)}}},h=u,d=(i("c4c1"),i("2877")),v=Object(d["a"])(h,n,a,!1,null,"9546dfae",null);e["default"]=v.exports}}]);
//# sourceMappingURL=chunk-01b0102c.162f3b04.js.map