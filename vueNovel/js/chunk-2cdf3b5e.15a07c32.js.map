{"version":3,"sources":["webpack:///./src/views/BookShelf.vue?8097","webpack:///src/views/BookShelf.vue","webpack:///./src/views/BookShelf.vue?af76","webpack:///./src/views/BookShelf.vue","webpack:///./src/views/BookShelf.vue?3f15"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","goSearch","model","value","callback","$$v","searchKey","expression","bookshelf","length","_e","_l","item","index","key","cover","name","$event","goBookRead","staticRenderFns","components","data","isShow","computed","methods","$router","push","showShelf","localBooks","$store","commit","localStorage","setItem","params","created","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,aAAa,CAACA,EAAG,aAAa,CAACG,MAAM,CAAC,WAAa,UAAU,YAAc,aAAaC,GAAG,CAAC,MAAQR,EAAIS,UAAUC,MAAM,CAACC,MAAOX,EAAa,UAAEY,SAAS,SAAUC,GAAMb,EAAIc,UAAUD,GAAKE,WAAW,gBAAgB,GAAGX,EAAG,MAAM,CAACE,YAAY,SAAS,CAAEN,EAAIgB,UAAUC,OAAS,EAAGb,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACA,EAAG,YAAY,CAACG,MAAM,CAAC,YAAc,cAAc,KAAKP,EAAIkB,KAAMlB,EAAa,UAAEI,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,WAAW,CAACG,MAAM,CAAC,aAAa,EAAE,OAAS,GAAG,YAAY,KAAK,QAAS,EAAM,UAAY,KAAKP,EAAImB,GAAInB,EAAa,WAAE,SAASoB,EAAKC,GAAO,OAAOjB,EAAG,gBAAgB,CAACkB,IAAID,EAAMd,MAAM,CAAC,KAAOa,EAAKG,MAAM,KAAOH,EAAKI,MAAMhB,GAAG,CAAC,MAAQ,SAASiB,GAAQ,OAAOzB,EAAI0B,WAAWN,UAAY,IAAI,GAAGpB,EAAIkB,QAAQ,IACj2BS,EAAkB,G,oCCqCtB,GACEH,KAAM,YACNI,WAAY,GACZC,KAHF,WAII,MAAO,CACLf,UAAW,GACXE,UAAW,GACXc,QAAQ,IAGZC,SAAU,OAAZ,OAAY,CAAZ,GACA,gBACI,KAAJ,YAAM,OAAN,QACI,iBAAJ,YAAM,OAAN,uBAGEC,QAAS,CACPvB,SADJ,WAEMR,KAAKgC,QAAQC,KAAK,YAGpBC,UALJ,WAMM,IAAN,uDACUC,IACFnC,KAAKe,UAAYoB,IAIrBV,WAZJ,SAYA,GACMzB,KAAKoC,OAAOC,OAAO,EAAzB,WACQT,KAAMT,IAERmB,aAAaC,QAAQ,QAA3B,mBAEMvC,KAAKgC,QAAQC,KAAK,CAChBV,KAAM,WACNiB,OAAQ,CAAhB,8BAIEC,QAxCF,WAyCIzC,KAAKoC,OAAOC,OAAO,EAAvB,yBACMT,MAAM,IAER5B,KAAKkC,cClF0U,I,wBCQ/UQ,EAAY,eACd,EACA5C,EACA4B,GACA,EACA,KACA,WACA,MAIa,aAAAgB,E,6CCnBf,yBAA0iB,EAAG,G","file":"js/chunk-2cdf3b5e.15a07c32.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"BookShelf\"},[_c('van-sticky',[_c('van-search',{attrs:{\"background\":\"#db3833\",\"placeholder\":\"书名、作者、关键字\"},on:{\"focus\":_vm.goSearch},model:{value:(_vm.searchKey),callback:function ($$v) {_vm.searchKey=$$v},expression:\"searchKey\"}})],1),_c('div',{staticClass:\"shelf\"},[(_vm.bookshelf.length < 1)?_c('div',{staticClass:\"tips\"},[_c('div',[_c('van-empty',{attrs:{\"description\":\"书架竟然没有书\"}})],1)]):_vm._e(),(_vm.bookshelf)?_c('div',{staticClass:\"books\"},[_c('van-grid',{attrs:{\"column-num\":3,\"gutter\":10,\"icon-size\":\"90\",\"border\":false,\"clickable\":\"\"}},_vm._l((_vm.bookshelf),function(item,index){return _c('van-grid-item',{key:index,attrs:{\"icon\":item.cover,\"text\":item.name},on:{\"click\":function($event){return _vm.goBookRead(item)}}})}),1)],1):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"BookShelf\">\n    <van-sticky>\n      <van-search\n        background=\"#db3833\"\n        v-model=\"searchKey\"\n        placeholder=\"书名、作者、关键字\"\n        @focus=\"goSearch\"\n      />\n    </van-sticky>\n    <div class=\"shelf\">\n      <div class=\"tips\" v-if=\"bookshelf.length < 1\">\n        <div>\n          <van-empty description=\"书架竟然没有书\" />\n        </div>\n      </div>\n\n      <div class=\"books\" v-if=\"bookshelf\">\n        <van-grid :column-num=\"3\" :gutter=\"10\" icon-size=\"90\" :border=\"false\" clickable>\n          <van-grid-item\n            v-for=\"(item, index) in bookshelf\"\n            :key=\"index\"\n            :icon=\"item.cover\"\n            :text=\"item.name\"\n            @click=\"goBookRead(item)\"\n          />\n        </van-grid>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport { mapState } from \"vuex\";\n\nimport types from \"@/store/TYPES\";\n\nexport default {\n  name: \"BookShelf\",\n  components: {},\n  data() {\n    return {\n      searchKey: \"\",\n      bookshelf: [],\n      isShow: true\n    };\n  },\n  computed: {\n    ...mapState({\n      book: state => state.book,\n      showBottomSelect: state => state.showBottomSelect\n    })\n  },\n  methods: {\n    goSearch() {\n      this.$router.push(\"/search\");\n    },\n    // 查看本地书架\n    showShelf() {\n      let localBooks = JSON.parse(localStorage.getItem(\"_booksCollection\"));\n      if (localBooks) {\n        this.bookshelf = localBooks;\n      }\n    },\n    // 开始看书\n    goBookRead(item) {\n      this.$store.commit(types.BOOK, {\n        data: item\n      });\n      localStorage.setItem('_book',JSON.stringify(item))\n      // 替换目录\n      this.$router.push({\n        name: \"BookRead\",\n        params: { url: item.currentCatalog.url }\n      });\n    }\n  },\n  created() {\n    this.$store.commit(types.SHOW_BOTTOM_SELECT, {\n      data: true\n    });\n    this.showShelf();\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.BookShelf {\n  height: 100vh;\n  // background-color: lightgray;\n   background-color: rgba(211, 211, 211, 0.432);\n}\n.shelf {\n  // background-color: rgba(211, 211, 211, 0.432);\n}\n.books {\n  padding-bottom: 55px;\n}\n/deep/ .van-grid-item__text {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 1;\n  -webkit-box-orient: vertical;\n}\n/deep/\n  .van-grid-item__content.van-grid-item__content--center.van-grid-item__content--clickable {\n  filter: brightness(0.95);\n}\nform {\n  top: 0;\n  position: fixed;\n  width: 100%;\n  z-index: 9;\n}\n/deep/.books.van-search .van-search__action {\n  color: white;\n}\n.tips {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: calc(100vh - 104px);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookShelf.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookShelf.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BookShelf.vue?vue&type=template&id=33fa0244&scoped=true&\"\nimport script from \"./BookShelf.vue?vue&type=script&lang=js&\"\nexport * from \"./BookShelf.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BookShelf.vue?vue&type=style&index=0&id=33fa0244&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"33fa0244\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookShelf.vue?vue&type=style&index=0&id=33fa0244&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookShelf.vue?vue&type=style&index=0&id=33fa0244&lang=less&scoped=true&\""],"sourceRoot":""}